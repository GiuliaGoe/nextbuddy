<div class="map-flexbox">
  <div
    id="map"
    style="width: 100%;
    height: 330px;"
    data-markers="<%= @markers.to_json %>"
    data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"
  >
  </div>

  <div class="centeredbutton">
    <button type="button" class="btn-orange btn-pill" data-toggle="modal" data-target="#myModal">Filters</button>
  </div>
</div>

<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Filter nextBuddys by</h4>
      </div>
      <div class="modal-body">
        <!-- Here goes the friggin fooooooorm -->
        <p> Radius near me (km): </p>
        <%= form_tag users_path, method: :get do %>
          <div class="range-slider">
            <%= range_field_tag :radius, params[:radius], in: 0..10, step: 1, class: 'range-slider__range'%>
            <span class="range-slider__value">0</span>
          </div>
          <p> Interest: <%= text_field_tag :interest, params[:interest], placeholder: "uxdesign" %></p>

          <p> Activity: <%= select_tag :activity, "
            <option></option>
            <option>Lunch</option>
            <option>Swimming</option>
            <option>Running</option>
            <option>Jogging</option>
            <option>Have a coffee</option>
            <option>Drink a tea</option>
            <option>Blow bubbles</option>
            <option>Drink a Beer</option>
            <option>Walk the dog</option>
            ".html_safe, placeholder: "Activity" %></p>
          <p> Skill: <%= text_field_tag :skill, params[:skill], placeholder: "finance" %></p>
          <p> Availability: <%= select_tag :availability, "
            <option></option>
            <option>Monday</option>
            <option>Tuesday</option>
            <option>Wednesday</option>
            <option>Thursday</option>
            <option>Friday</option>
            <option>Saturday</option>
            <option>Sunday</option>
          ".html_safe, placeholder: "availability" %></p>
          <p><%= submit_tag ("Filter"), class: "btn-orange" %></p>
        <% end  %>
      </div>
    </div>

  </div>
</div>

<div class="scrolling-wrapper" id="card-scroller">
  <% @users.each do |user| %>
      <div class="card-user js-card-user" data-user-id="<%= user.id %>">
        <div class="card-user-name">
          <h2>
            <%= user.first_name %>
            <%= user.last_name[0] %>.
          </h2>
        </div>

        <div class="card-user-location">
            <p><i class="fas fa-map-marker-alt"></i>    <%= user.address %></p>
        </div>

        <div class="card-user-career">
          <% user.career_positions.each do |career| %>
            <p><strong> <%= career.job_title.name %> @<%= career.company.name %> </strong></p>
          <% end  %>
        </div>

        <div class="user-professional-interests">
          <% user.professional_interests.each do |interest| %>
            <p>#<%= interest.name %></p>
          <% end %>
        </div>


        <%= link_to "See my profile :-)", user_path(user), :class => "card-user-link btn-orange" %>
        <div class="card-user-user">
          <%= image_tag user.photo, class: "card-user-user avatar-bordered" %>
        </div>
      </div>
  <% end %>
</div>





